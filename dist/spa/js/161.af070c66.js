"use strict";(self["webpackChunktwitter"]=self["webpackChunktwitter"]||[]).push([[161],{4161:(e,t,l)=>{l.r(t),l.d(t,{default:()=>D});var o=l(3673);function a(e,t,l,a,n,s){const r=(0,o.up)("example-component"),i=(0,o.up)("q-page");return(0,o.wg)(),(0,o.j4)(i,{class:"row items-center justify-evenly"},{default:(0,o.w5)((()=>[(0,o.Wm)(r,{title:"Example component",active:""})])),_:1})}var n=l(2323);const s={class:"q-pa-md doc-container w100",style:{"align-self":"flex-start"}},r={class:"col w100 self-center flex"},i={class:"q-pa-md w100"},d={class:"w100 flex",style:{"justify-content":"space-around"}};function u(e,t,l,a,u,m){const p=(0,o.up)("q-input"),c=(0,o.up)("q-date"),w=(0,o.up)("q-time"),h=(0,o.up)("q-btn"),f=(0,o.up)("q-form"),b=(0,o.up)("q-td"),y=(0,o.up)("q-popup-edit"),v=(0,o.up)("q-tr"),g=(0,o.up)("q-table");return(0,o.wg)(),(0,o.j4)("div",s,[(0,o.Wm)("div",r,[(0,o.Wm)("div",i,[(0,o.Wm)(f,{onSubmit:e.onSubmit,onReset:e.onReset,class:"q-gutter-md"},{default:(0,o.w5)((()=>[(0,o.Wm)(p,{filled:"",modelValue:e.tweet,"onUpdate:modelValue":t[1]||(t[1]=t=>e.tweet=t),label:"Your tweet",hint:"Max 160",maxlength:"160","lazy-rules":"",rules:[e=>e&&e.length>0||"Please tweet something"]},null,8,["modelValue","rules"]),(0,o.Wm)("div",d,[(0,o.Wm)(c,{modelValue:e.days,"onUpdate:modelValue":t[2]||(t[2]=t=>e.days=t),multiple:"",events:e.events,options:e.optionsFn},null,8,["modelValue","events","options"]),(0,o.Wm)(w,{modelValue:e.time,"onUpdate:modelValue":t[3]||(t[3]=t=>e.time=t),format24h:""},null,8,["modelValue"])]),(0,o.Wm)("div",null,[(0,o.Wm)(h,{label:"Submit",type:"submit",color:"primary"}),(0,o.Wm)(h,{label:"Reset",type:"reset",color:"primary",flat:"",class:"q-ml-sm"}),(0,o.Wm)(h,{label:"Star Tweet",type:"button",onClick:t[4]||(t[4]=t=>e.starTweet()),color:"primary",flat:"",class:"q-ml-sm"}),(0,o.Uk)(" is started: "+(0,n.zw)(e.startedTweet),1)])])),_:1},8,["onSubmit","onReset"])])]),(0,o.Wm)(g,{class:"w100",title:"Tweets",rows:e.rows,columns:e.columns,"row-key":"tweet_id"},{body:(0,o.w5)((t=>[(0,o.Wm)(v,{props:t},{default:(0,o.w5)((()=>[(0,o.Wm)(b,{key:"tweet_id",props:t},{default:(0,o.w5)((()=>[(0,o.Wm)(h,{round:"",color:"deep-orange",onClick:l=>e.deleteTweet(t),icon:"delete"},null,8,["onClick"])])),_:2},1032,["props"]),(0,o.Wm)(b,{key:"tweet",props:t},{default:(0,o.w5)((()=>[(0,o.Uk)((0,n.zw)(t.row.tweet)+" ",1),(0,o.Wm)(y,{modelValue:t.row.tweet,"onUpdate:modelValue":e=>t.row.tweet=e},{default:(0,o.w5)((()=>[(0,o.Wm)(p,{modelValue:t.row.tweet,"onUpdate:modelValue":e=>t.row.tweet=e,dense:"",autofocus:"",counter:""},null,8,["modelValue","onUpdate:modelValue"])])),_:2},1032,["modelValue","onUpdate:modelValue"])])),_:2},1032,["props"]),(0,o.Wm)(b,{key:"date",props:t},{default:(0,o.w5)((()=>[(0,o.Uk)((0,n.zw)(t.row.date),1)])),_:2},1032,["props"]),(0,o.Wm)(b,{key:"qdate",props:t},{default:(0,o.w5)((()=>[(0,o.Uk)((0,n.zw)(t.row.qdate)+" ",1),(0,o.Wm)(y,{modelValue:t.row.qdate,"onUpdate:modelValue":e=>t.row.qdate=e,title:"Update date"},{default:(0,o.w5)((()=>[(0,o.Wm)(c,{options:e.optionsFn,"onUpdate:modelValue":[l=>e.refreshData(t),e=>t.row.qdate=e],modelValue:t.row.qdate},null,8,["options","onUpdate:modelValue","modelValue"])])),_:2},1032,["modelValue","onUpdate:modelValue"])])),_:2},1032,["props"]),(0,o.Wm)(b,{key:"qtime",props:t},{default:(0,o.w5)((()=>[(0,o.Uk)((0,n.zw)(t.row.qtime)+" ",1),(0,o.Wm)(y,{modelValue:t.row.qtime,"onUpdate:modelValue":e=>t.row.qtime=e,title:"Update time"},{default:(0,o.w5)((()=>[(0,o.Wm)(w,{modelValue:t.row.qtime,"onUpdate:modelValue":e=>t.row.qtime=e,format24h:""},null,8,["modelValue","onUpdate:modelValue"])])),_:2},1032,["modelValue","onUpdate:modelValue"])])),_:2},1032,["props"])])),_:2},1032,["props"])])),_:1},8,["rows","columns"])])}var m=l(8825),p=l(5777);class c{constructor(){Object.defineProperty(this,"title",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"todos",{enumerable:!0,configurable:!0,writable:!0,value:(0,p.vg)({default:()=>[]})}),Object.defineProperty(this,"meta",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"active",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}}class w extends(p.w3.with(c)){constructor(){super(...arguments),Object.defineProperty(this,"clickCount",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"accept",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"$q",{enumerable:!0,configurable:!0,writable:!0,value:(0,m.Z)()}),Object.defineProperty(this,"tweet",{enumerable:!0,configurable:!0,writable:!0,value:""}),Object.defineProperty(this,"startedTweet",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"days",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"time",{enumerable:!0,configurable:!0,writable:!0,value:"12:00"}),Object.defineProperty(this,"events",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"rows",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"columns",{enumerable:!0,configurable:!0,writable:!0,value:[{name:"tweet_id",required:!0,label:"Delete",align:"left",field:e=>e.tweet_id},{name:"tweet",required:!0,label:"Tweet",align:"left",field:e=>e.tweet,format:e=>`${e}`,sortable:!0},{name:"date",align:"center",label:"date",field:"date",sortable:!0},{name:"qdate",align:"center",label:"qdate",field:"qdate",sortable:!0},{name:"qtime",align:"center",label:"qtime",field:"qtime",sortable:!0}]})}optionsFn(e){return!0}increment(){this.clickCount+=1}onReset(){this.tweet=""}refreshData(e){setTimeout((()=>{const t=e.row,l=e.rowIndex;fetch("http://localhost:3000/api/"+l,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(Object.assign(Object.assign({},t),{date:this.formatAllDate(t.qdate,t.qtime)}))}).then((e=>e.json())).then((e=>{this.events=[],e.tweets.forEach((e=>{this.events.push(e.qdate)})),this.rows=e.tweets}))}),100)}deleteTweet(e){const t=e.rowIndex;this.events.splice(t,1),this.rows.splice(t,1),fetch("http://localhost:3000/api/"+t,{method:"DELETE",headers:{"Content-Type":"application/json"}}).then((e=>e.json())).then((t=>{this.events=[],t.tweets.forEach((e=>{this.events.push(e.qdate)})),this.rows=t.tweets,this.showNotif(e.row.tweet)}))}showNotif(e){this.$q.notify({message:"Deleted - "+e,color:"negative"})}formatDate(e){let t=e.split("/").join("-"),l=this.time.split(":")[0],o=this.time.split(":")[1];return new Date(`${t}T${l}:${o}:00.000Z`).toISOString()}formatAllDate(e,t){let l="";try{let o=e.split("/").join("-"),a=t.split(":")[0],n=t.split(":")[1];l=new Date(`${o}T${a}:${n}:00.000Z`).toISOString()}catch(o){}return l}onSubmit(){let e=[];this.days.forEach((t=>{e.unshift({tweet_id:(new Date).getTime(),tweet:this.tweet,date:this.formatDate(t),qdate:t,qtime:this.time})})),this.days=[],this.time="12:00",this.tweet="",fetch("http://localhost:3000/api/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((e=>e.json())).then((e=>{this.events=[],e.tweets.forEach((e=>{this.events.push(e.qdate)})),this.rows=e.tweets}))}refreshTweets(){fetch("http://localhost:3000/api/",{method:"GET",headers:{"Content-Type":"application/json"}}).then((e=>e.json())).then((e=>{e.tweets.forEach((e=>{this.events.push(e.qdate)})),this.rows=e.tweets}))}created(){this.refreshTweets()}starTweet(){const e=36e5;this.startedTweet=!0,setInterval((()=>{this.rows.forEach(((t,l)=>{const o=new Date(t.date).getTime()-(new Date).getTime()-e;o<0&&o+6e5>0&&fetch("http://localhost:3000/twitter/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({tweet:t.tweet})}).then((e=>e.json())).then((e=>{console.log(e),this.deleteTweet({rowIndex:l,row:{tweet:t.tweet}})}))})),console.log(this.rows[0].date)}),1e4)}}var h=l(8689),f=l(4842),b=l(2651),y=l(5990),v=l(4607),g=l(5816),q=l(8186),j=l(3884),T=l(1289),V=l(7518),O=l.n(V);w.render=u;const W=w;O()(w,"components",{QForm:h.Z,QInput:f.Z,QDate:b.Z,QTime:y.Z,QBtn:v.Z,QTable:g.Z,QTr:q.Z,QTd:j.Z,QPopupEdit:T.Z});var U=function(e,t,l,o){var a,n=arguments.length,s=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,l):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,l,o);else for(var r=e.length-1;r>=0;r--)(a=e[r])&&(s=(n<3?a(s):n>3?a(t,l,s):a(t,l))||s);return n>3&&s&&Object.defineProperty(t,l,s),s};let P=class extends p.w3{};P=U([(0,p.Ei)({components:{ExampleComponent:W}})],P);const k=P;var _=l(4379);k.render=a;const D=k;O()(k,"components",{QPage:_.Z})}}]);